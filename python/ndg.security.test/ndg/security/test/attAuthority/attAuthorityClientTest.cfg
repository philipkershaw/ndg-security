# NERC Data Grid Project
#
# P J Kershaw 16/01/07
#
# Copyright (C) 2007 CCLRC & NERC
# 
# This software may be distributed under the terms of the Q Public License,
# version 1.0 or later.

[setUp]
# ! SiteBMapConfig.xml trusted site A aaURI setting must agree with this 
# setting for test6GetMappedAttCert
#uri = http://localhost:5010/AttributeAuthority
uri = http://localhost:5000/AttributeAuthority

# For https connections only.  !Omit ssl* settings if using http!
# sslpeercertcn is the expected CommonName of peer cert.  Omit if it's the 
# same as peer hostname. 
sslpeercertcn = AttributeAuthority
sslcacertfilepathlist = $NDGSEC_AACLNT_UNITTEST_DIR/ca/ndg-test-ca.crt

# Site A Attribute Authority X.509 certificate used by WS-Security signature
# handler to verify signature of messages returned from the Attribute Authority
# This can normally be omitted because the Attribute Authority returns this
# certificate in it's response anyway
#aacertfilepath = 

# Set to False to test service without WS-Security signature
setsignaturehandler = True

# ValueType for BinarySecurityToken element of WSSE header.  Uncomment the
# one which applies ...

# Specifies token is an X.509 certificate
#reqbinsectokvaltype = X509

# Stipulate X.509 version 3 format
reqbinsectokvaltype = X509v3

# Specify multiple certificates in a chain of trust.  Use this setting for 
# proxy certificates where a certificate chain consisting of user certificate
# and proxy certificate is required to secure trust back to the
# CA: <- User Certificate <- Proxy Certificate
#reqbinsectokvaltype = X509PKIPathv1

# Client certificate - if "reqbinsectokvaltype = X509PKIPathv1" above then
# This certificate is expected to contain a certificate chain of proxy
# certificate and user certificate that issued it.  The default is test.crt,
# a standard certificate.  The certificate returned from the MyProxy unit test
# could be used in place of it here.
#
# $NDGSEC_AACLNT_UNITTEST_DIR is set by the unit test script 
# AttAuthorityClientTest.py to default to the same directory as the script
clntcertfilepath = $NDGSEC_AACLNT_UNITTEST_DIR/test.crt

# Client private key
clntprikeyfilepath = $NDGSEC_AACLNT_UNITTEST_DIR/test.key

# Set password for private key - leave blank if no password is set or comment 
# out to be prompted for it from the command line
clntprikeypwd = 

# Space separated list of CA certificate files used to verify certificate used
# in message signature / peer cert in SSL connection
cacertfilepathlist = $NDGSEC_AACLNT_UNITTEST_DIR/ca/ndg-test-ca.crt

# Inclusive namespaces for Exclusive C14N
#wssRefInclNS: xmlns xsi xsd SOAP-ENV wsu wsse ns1
#wssSignedInfoInclNS: xsi xsd SOAP-ENV ds wsse ec
wssRefInclNS: 
wssSignedInfoInclNS: 

[test3GetTrustedHostInfo]
role = postgrad
# Set an alternative role here to test no matching role found exception
#role = blah
 
[test5GetAttCert]
# If clntcertfilepath is a proxy set this cert as the one that issued the 
# proxy.  Comment out if clntcertfilepath is a standard X.509 cert.
#issuingclntcertfilepath = $NDGSEC_AACLNT_UNITTEST_DIR/user-cert.pem

# Test with no digital signature applied
#issuingclntcertfilepath = $NDGSEC_AACLNT_UNITTEST_DIR/proxy-cert.pem
# Setup for use by testGetMappedAttCert test
attCertFilePath = $NDGSEC_AACLNT_UNITTEST_DIR/ac-clnt.xml

[test6GetAttCertWithUserIdSet]
userId = system
# Comment out if SignatureHandler is being used
#issuingclntcertfilepath = $NDGSEC_AACLNT_UNITTEST_DIR/siteA-aa.crt

[test7GetMappedAttCert]
# Set to False to test service without WS-Security signature
setsignaturehandler = True

# ValueType for BinarySecurityToken element of WSSE header.  Uncomment the
# one which applies ...

# Specifies token is an X.509 certificate
#reqbinsectokvaltype = X509

# Stipulate X.509 version 3 format
reqbinsectokvaltype = X509v3

# Specify multiple certificates in a chain of trust.  Use this setting for 
# proxy certificates where a certificate chain consisting of user certificate
# and proxy certificate is required to secure trust back to the
# CA: <- User Certificate <- Proxy Certificate
#reqbinsectokvaltype = X509PKIPathv1

# Client certificate - if "reqbinsectokvaltype = X509PKIPathv1" above then
# This certificate is expected to contain a certificate chain of proxy
# certificate and user certificate that issued it.  The default is test.crt,
# a standard certificate.  The certificate returned from the MyProxy unit test
# could be used in place of it here.
#
# $NDGSEC_AACLNT_UNITTEST_DIR is set by the unit test script 
# AttAuthorityClientTest.py to default to the same directory as the script
clntcertfilepath = $NDGSEC_AACLNT_UNITTEST_DIR/test.crt

# Set password for private key - leave blank if no password is set or comment 
# out to be prompted for it from the command line
clntprikeypwd = 
clntprikeyfilepath = $NDGSEC_AACLNT_UNITTEST_DIR/test.key

# Space separated list of CA certificate files used to verify certificate used
# in message signature
cacertfilepathlist = $NDGSEC_AACLNT_UNITTEST_DIR/ca/ndg-test-ca.crt

uri = http://localhost:5010/AttributeAuthority
# Heath Data Server
#uri = http://glue.badc.rl.ac.uk/DEWS/HealthDataServer/AttributeAuthority
# Marine Data Server
#uri = http://glue.badc.rl.ac.uk/DEWS/MarineDataServer/AttributeAuthority
userAttCertFilePath = $NDGSEC_AACLNT_UNITTEST_DIR/ac-clnt.xml

mappedAttCertFilePath = $NDGSEC_AACLNT_UNITTEST_DIR/mapped-ac.xml

[test8GetMappedAttCertStressTest]
# Set to False for no signature handling
setSignatureHandler = True

# ValueType for BinarySecurityToken element of WSSE header.  Uncomment the
# one which applies ...

# Specifies token is an X.509 certificate
#reqbinsectokvaltype = X509

# Stipulate X.509 version 3 format
reqbinsectokvaltype = X509v3

# Specify multiple certificates in a chain of trust.  Use this setting for 
# proxy certificates where a certificate chain consisting of user certificate
# and proxy certificate is required to secure trust back to the
# CA: <- User Certificate <- Proxy Certificate
#reqbinsectokvaltype = X509PKIPathv1

# Client certificate - if "reqbinsectokvaltype = X509PKIPathv1" above then
# This certificate is expected to contain a certificate chain of proxy
# certificate and user certificate that issued it.  The default is test.crt,
# a standard certificate.  The certificate returned from the MyProxy unit test
# could be used in place of it here.
#
# $NDGSEC_AACLNT_UNITTEST_DIR is set by the unit test script 
# AttAuthorityClientTest.py to default to the same directory as the script
clntcertfilepath = $NDGSEC_AACLNT_UNITTEST_DIR/test.crt

# Set password for private key - leave blank if no password is set or comment 
# out to be prompted for it from the command line
clntprikeypwd = 
clntprikeyfilepath = $NDGSEC_AACLNT_UNITTEST_DIR/test.key

# Space separated list of CA certificate files used to verify certificate used
# in message signature
cacertfilepathlist = $NDGSEC_AACLNT_UNITTEST_DIR/ca/ndg-test-ca.crt

uri = http://localhost:5010/AttributeAuthority
userAttCertFilePathList = $NDGSEC_AACLNT_UNITTEST_DIR/ac-clnt.xml


