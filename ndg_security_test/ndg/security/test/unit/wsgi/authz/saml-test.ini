#
# AuthZ WSGI Testing environment configuration
#
# The %(here)s variable will be replaced with the parent directory of this file
#
[DEFAULT]
testConfigDir = %(here)s/../../../config

[server:main]
use = egg:Paste#http
host = 0.0.0.0
port = 5000

[pipeline:main]
pipeline = AuthZFilter TestApp

[app:TestApp]
paste.app_factory = ndg.security.test.unit.wsgi.authz.test_authz:TestAuthZMiddleware

[filter:AuthZFilter]
paste.filter_app_factory=ndg.security.server.wsgi.authz:SAMLAuthorizationMiddleware.filter_app_factory
prefix = authz.
policy.filePath = %(here)s/saml-policy.xml

authz.pepResultHandler = ndg.security.test.unit.wsgi.authz.test_authz.RedirectFollowingAccessDenied

# Settings for Policy Information Point used by the Policy Decision Point to
# retrieve subject attributes from the Attribute Authority associated with the
# resource to be accessed

# If omitted, DN of SSL Cert is used
pip.attributeQuery.issuerName = 
pip.attributeQuery.clockSkew = 0.
pip.attributeQuery.queryAttributes.0 = urn:siteA:security:authz:1.0:attr, , http://www.w3.org/2001/XMLSchema#string
pip.attributeQuery.sslCACertDir=%(testConfigDir)s/ca
pip.attributeQuery.sslCertFilePath=%(testConfigDir)s/pki/test.crt
pip.attributeQuery.sslPriKeyFilePath=%(testConfigDir)s/pki/test.key
