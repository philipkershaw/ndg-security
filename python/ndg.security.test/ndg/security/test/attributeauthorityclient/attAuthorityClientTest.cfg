# NERC Data Grid Project
#
# P J Kershaw 16/01/07
#
# Copyright (C) 2009 Science and Technology Facilities Council
# 
# This software may be distributed under the terms of the Q Public License,
# version 1.0 or later.

[setUp]
# ! SiteBMapConfig.xml trusted site A aaURI setting must agree with this 
# setting for test6GetMappedAttCert
uri = http://localhost:5000/AttributeAuthority

# With TCP Mon:
#uri = http://localhost:4999/AttributeAuthority

# For https connections only.  !Omit ssl* settings if using http!
# sslpeercertcn is the expected CommonName of peer cert.  Omit if it's the 
# same as peer hostname. 
sslPeerCertCN = AttributeAuthority
sslCACertFilePathList = $NDGSEC_UNITTEST_CONFIG_DIR/ca/ndg-test-ca.crt

[test02GetTrustedHostInfo]
role = postgrad

[test03GetTrustedHostInfoWithNoMatchingRoleFound]
# Set an alternative role to test no matching role found exception
role = blah
 
[test06GetAttCert]
# Setup for use by test08GetMappedAttCert test
attCertFilePath = $NDGSEC_AACLNT_UNITTEST_DIR/ac-clnt.xml

[test07GetAttCertWithUserIdSet]
userId = system
attCertFilePath = $NDGSEC_AACLNT_UNITTEST_DIR/ac-clnt-test6.xml

[test08GetMappedAttCert]
uri = http://localhost:5100/AttributeAuthority
userAttCertFilePath = $NDGSEC_AACLNT_UNITTEST_DIR/ac-clnt.xml
mappedAttCertFilePath = $NDGSEC_AACLNT_UNITTEST_DIR/mapped-ac.xml

[test09GetMappedAttCertStressTest]
uri = http://localhost:5100/AttributeAuthority
userAttCertFilePathList = $NDGSEC_AACLNT_UNITTEST_DIR/ac-clnt.xml

[wsse]
# WS-Security settings for unit test AA clients
#
# OUTBOUND MESSAGE CONFIG

# Signature of an outbound message

# Certificate associated with private key used to sign a message.  The sign 
# method will add this to the BinarySecurityToken element of the WSSE header.  
signingCertFilePath=$NDGSEC_UNITTEST_CONFIG_DIR/pki/wsse-clnt.crt

# PEM encoded private key file
signingPriKeyFilePath=$NDGSEC_UNITTEST_CONFIG_DIR/pki/wsse-clnt.key

# Set the ValueType for the BinarySecurityToken added to the WSSE header for a
# signed message.  See __setReqBinSecTokValType method and binSecTokValType 
# class variable for options - it may be one of X509, X509v3, X509PKIPathv1 or 
# give full namespace to alternative - see 
# ZSI.wstools.Namespaces.OASIS.X509TOKEN
#
# binSecTokValType determines whether signingCert or signingCertChain 
# attributes will be used.
reqBinSecTokValType=X509v3

# Add a timestamp element to an outbound message
addTimestamp=True

# For WSSE 1.1 - service returns signature confirmation containing signature 
# value sent by client
applySignatureConfirmation=False

#
# INBOUND MESSAGE CONFIG

# Provide a space separated list of file paths
caCertFilePathList=$NDGSEC_UNITTEST_CONFIG_DIR/ca/ndg-test-ca.crt

