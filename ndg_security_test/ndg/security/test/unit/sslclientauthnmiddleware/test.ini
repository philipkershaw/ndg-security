#
# NERC DataGrid Security
#
# Paste Deploy configuration for SSL Client Authentication Middleware
#
# Author: P J Kershaw
# date: 11/12/08
# Copyright: (C) 2009 Science and Technology Facilities Council
# license: BSD - see LICENSE file in top-level directory
# Contact: Philip.Kershaw@stfc.ac.uk
# Revision: $Id$

[DEFAULT]

[server:main]
use = egg:Paste#http
host = 0.0.0.0
port = 5000

[app:mainApp]
paste.app_factory = ndg.security.test.sslclientauthnmiddleware.sslclientauthnapp:app_factory

[pipeline:main]
pipeline = sslClientAuthenticationFilter mainApp

[filter:sslClientAuthenticationFilter]
paste.filter_app_factory = ndg.security.server.wsgi.sslclientauthn:filter_app_factory
errorResponseCode: 401
pathMatchList: /secure1 /secure2
caCertFilePathList: $NDGSEC_TEST_CONFIG_DIR/ca/ndg-test-ca.crt

# Logging configuration
[loggers]
keys = root, ndg

[handlers]
keys = console

[formatters]
keys = generic

[logger_root]
level = INFO
handlers = console

[logger_ndg]
level = DEBUG
handlers =
qualname = ndg

[handler_console]
class = StreamHandler
args = (sys.stderr,)
level = NOTSET
formatter = generic

[formatter_generic]
format = %(asctime)s,%(msecs)03d %(levelname)-5.5s [%(name)s] %(message)s
datefmt = %H:%M:%S

