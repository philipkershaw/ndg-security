<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>ndg.security.server.AttAuthority.AttAuthority</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="ndg-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            >NDG Security</th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="ndg-module.html">Package&nbsp;ndg</a> ::
        <a href="ndg.security-module.html">Package&nbsp;security</a> ::
        <a href="ndg.security.server-module.html">Package&nbsp;server</a> ::
        <a href="ndg.security.server.AttAuthority-module.html">Package&nbsp;AttAuthority</a> ::
        Class&nbsp;AttAuthority
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== CLASS DESCRIPTION ==================== -->
<h1 class="epydoc">Class AttAuthority</h1><p class="nomargin-top"><span class="codelink"><a href="ndg.security.server.AttAuthority-pysrc.html#AttAuthority">source&nbsp;code</a></span></p>
<center>
<center>  <map id="uml_class_diagram_for_ndg_secu_192" name="uml_class_diagram_for_ndg_secu_192">
<area shape="rect" href="javascript:void(0);" title="cmp(x,y)" alt="" coords="156,36,279,55"/>
<area shape="rect" href="javascript:void(0);" title="x==y" alt="" coords="156,55,279,74"/>
<area shape="rect" href="javascript:void(0);" title="x&gt;=y" alt="" coords="156,74,279,92"/>
<area shape="rect" href="javascript:void(0);" title="x.__getattribute__(&#39;name&#39;) &lt;==&gt; x.name" alt="" coords="156,92,279,111"/>
<area shape="rect" href="javascript:void(0);" title="x&gt;y" alt="" coords="156,111,279,130"/>
<area shape="rect" href="javascript:void(0);" title="hash(x)" alt="" coords="156,130,279,148"/>
<area shape="rect" href="javascript:void(0);" title="iter(x)" alt="" coords="156,148,279,167"/>
<area shape="rect" href="javascript:void(0);" title="x&lt;=y" alt="" coords="156,167,279,186"/>
<area shape="rect" href="javascript:void(0);" title="len(x)" alt="" coords="156,186,279,204"/>
<area shape="rect" href="javascript:void(0);" title="x&lt;y" alt="" coords="156,204,279,223"/>
<area shape="rect" href="javascript:void(0);" title="x!=y" alt="" coords="156,223,279,242"/>
<area shape="rect" href="javascript:void(0);" title="dict.__new__" alt="" coords="156,242,279,260"/>
<area shape="rect" href="javascript:void(0);" title="x[i]=y" alt="" coords="156,260,279,279"/>
<area shape="rect" href="javascript:void(0);" title="Update D from E and F: for k in E: D[k] = E[k] (if E has keys else: for (k, v) in E: D[k] = v) then: for k in F: D[k] = F[k]" alt="" coords="156,298,279,316"/>
<area shape="rect" href="javascript:void(0);" title="dict() &#45;&gt; new empty dictionary." alt="" coords="155,11,280,318"/>
<area shape="rect" href="ndg.security.server.AttAuthority.AttAuthority&#45;class.html#WS_SETTINGS_KEY" title="ndg.security.server.AttAuthority.AttAuthority.WS_SETTINGS_KEY" alt="" coords="17,364,417,383"/>
<area shape="rect" href="ndg.security.server.AttAuthority.AttAuthority&#45;class.html#propFilePath" title="ndg.security.server.AttAuthority.AttAuthority.propFilePath" alt="" coords="17,383,417,402"/>
<area shape="rect" href="ndg.security.server.AttAuthority.AttAuthority&#45;class.html#hostInfo" title="ndg.security.server.AttAuthority.AttAuthority.hostInfo" alt="" coords="17,402,417,420"/>
<area shape="rect" href="ndg.security.server.AttAuthority.AttAuthority&#45;class.html#__init__" title="Create new NDG Attribute Authority instance" alt="" coords="17,423,417,442"/>
<area shape="rect" href="ndg.security.server.AttAuthority.AttAuthority&#45;class.html#readProperties" title="Read the properties files and do some checking/converting of input values" alt="" coords="17,442,417,460"/>
<area shape="rect" href="ndg.security.server.AttAuthority.AttAuthority&#45;class.html#__repr__" title="Return file properties dictionary as representation" alt="" coords="17,460,417,479"/>
<area shape="rect" href="ndg.security.server.AttAuthority.AttAuthority&#45;class.html#__delitem__" title="del x[y]" alt="" coords="17,479,417,498"/>
<area shape="rect" href="ndg.security.server.AttAuthority.AttAuthority&#45;class.html#__getitem__" title="x[y]" alt="" coords="17,498,417,516"/>
<area shape="rect" href="ndg.security.server.AttAuthority.AttAuthority&#45;class.html#get" title="d defaults to None." alt="" coords="17,516,417,535"/>
<area shape="rect" href="ndg.security.server.AttAuthority.AttAuthority&#45;class.html#clear" title="Remove all items from D." alt="" coords="17,535,417,554"/>
<area shape="rect" href="ndg.security.server.AttAuthority.AttAuthority&#45;class.html#keys" title="ndg.security.server.AttAuthority.AttAuthority.keys" alt="" coords="17,554,417,572"/>
<area shape="rect" href="ndg.security.server.AttAuthority.AttAuthority&#45;class.html#items" title="ndg.security.server.AttAuthority.AttAuthority.items" alt="" coords="17,572,417,591"/>
<area shape="rect" href="ndg.security.server.AttAuthority.AttAuthority&#45;class.html#values" title="ndg.security.server.AttAuthority.AttAuthority.values" alt="" coords="17,591,417,610"/>
<area shape="rect" href="ndg.security.server.AttAuthority.AttAuthority&#45;class.html#has_key" title="ndg.security.server.AttAuthority.AttAuthority.has_key" alt="" coords="17,610,417,628"/>
<area shape="rect" href="ndg.security.server.AttAuthority.AttAuthority&#45;class.html#__contains__" title="ndg.security.server.AttAuthority.AttAuthority.__contains__" alt="" coords="17,628,417,647"/>
<area shape="rect" href="ndg.security.server.AttAuthority.AttAuthority&#45;class.html#setPropFilePath" title="Set properties file from input or based on environment variable settings" alt="" coords="17,647,417,666"/>
<area shape="rect" href="ndg.security.server.AttAuthority.AttAuthority&#45;class.html#mapRemoteRoles2LocalRoles" title="Map roles of trusted hosts to roles for this data centre" alt="" coords="17,684,417,703"/>
<area shape="rect" href="ndg.security.server.AttAuthority.AttAuthority&#45;class.html" title="NDG Attribute Authority &#45; server for allocation of user authorization tokens &#45; attribute certificates." alt="" coords="16,347,419,704"/>
</map>
  <img src="uml_class_diagram_for_ndg_secu_192.gif" alt='' usemap="#uml_class_diagram_for_ndg_secu_192" ismap="ismap" class="graph-without-title" />
</center>
</center>
<hr />
<p>NDG Attribute Authority - server for allocation of user authorization 
  tokens - attribute certificates.</p>

<!-- ==================== INSTANCE METHODS ==================== -->
<a name="section-InstanceMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Instance Methods</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-InstanceMethods"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><pre class="literalblock">
new empty dictionary

</pre></span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ndg.security.server.AttAuthority.AttAuthority-class.html#__init__" class="summary-sig-name">__init__</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">propFilePath</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">bReadMapConfig</span>=<span class="summary-sig-default">True</span>)</span><br />
      Create new NDG Attribute Authority instance</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ndg.security.server.AttAuthority-pysrc.html#AttAuthority.__init__">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="readProperties"></a><span class="summary-sig-name">readProperties</span>(<span class="summary-sig-arg">self</span>)</span><br />
      Read the properties files and do some checking/converting of input 
      values</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ndg.security.server.AttAuthority-pysrc.html#AttAuthority.readProperties">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ndg.security.server.AttAuthority.AttAuthority-class.html#__repr__" class="summary-sig-name">__repr__</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Return file properties dictionary as representation</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ndg.security.server.AttAuthority-pysrc.html#AttAuthority.__repr__">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ndg.security.server.AttAuthority.AttAuthority-class.html#__delitem__" class="summary-sig-name">__delitem__</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">key</span>)</span><br />
      del x[y]</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ndg.security.server.AttAuthority-pysrc.html#AttAuthority.__delitem__">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ndg.security.server.AttAuthority.AttAuthority-class.html#__getitem__" class="summary-sig-name">__getitem__</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">key</span>)</span><br />
      x[y]</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ndg.security.server.AttAuthority-pysrc.html#AttAuthority.__getitem__">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">D[k] if k in D, else d</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ndg.security.server.AttAuthority.AttAuthority-class.html#get" class="summary-sig-name">get</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">kw</span>)</span><br />
      d defaults to None.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ndg.security.server.AttAuthority-pysrc.html#AttAuthority.get">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">None</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ndg.security.server.AttAuthority.AttAuthority-class.html#clear" class="summary-sig-name">clear</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Remove all items from D.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ndg.security.server.AttAuthority-pysrc.html#AttAuthority.clear">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list of D's keys</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ndg.security.server.AttAuthority.AttAuthority-class.html#keys" class="summary-sig-name">keys</a>(<span class="summary-sig-arg">self</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ndg.security.server.AttAuthority-pysrc.html#AttAuthority.keys">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list of D's (key, value) pairs, as 2-tuples</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ndg.security.server.AttAuthority.AttAuthority-class.html#items" class="summary-sig-name">items</a>(<span class="summary-sig-arg">self</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ndg.security.server.AttAuthority-pysrc.html#AttAuthority.items">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list of D's values</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ndg.security.server.AttAuthority.AttAuthority-class.html#values" class="summary-sig-name">values</a>(<span class="summary-sig-arg">self</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ndg.security.server.AttAuthority-pysrc.html#AttAuthority.values">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">True if D has a key k, else False</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ndg.security.server.AttAuthority.AttAuthority-class.html#has_key" class="summary-sig-name">has_key</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">key</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ndg.security.server.AttAuthority-pysrc.html#AttAuthority.has_key">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">True if D has a key k, else False</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ndg.security.server.AttAuthority.AttAuthority-class.html#__contains__" class="summary-sig-name">__contains__</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">key</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ndg.security.server.AttAuthority-pysrc.html#AttAuthority.__contains__">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="setPropFilePath"></a><span class="summary-sig-name">setPropFilePath</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">val</span>=<span class="summary-sig-default">None</span>)</span><br />
      Set properties file from input or based on environment variable 
      settings</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ndg.security.server.AttAuthority-pysrc.html#AttAuthority.setPropFilePath">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="getPropFilePath"></a><span class="summary-sig-name">getPropFilePath</span>(<span class="summary-sig-arg">self</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ndg.security.server.AttAuthority-pysrc.html#AttAuthority.getPropFilePath">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ndg.security.server.AttAuthority.AttAuthority-class.html#getAttCert" class="summary-sig-name">getAttCert</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">userId</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">holderCert</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">holderCertFilePath</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">userAttCert</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">userAttCertFilePath</span>=<span class="summary-sig-default">None</span>)</span><br />
      Request a new Attribute Certificate for use in authorisation</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ndg.security.server.AttAuthority-pysrc.html#AttAuthority.getAttCert">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ndg.security.server.AttAuthority.AttAuthority-class.html#readMapConfig" class="summary-sig-name">readMapConfig</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">mapConfigFilePath</span>=<span class="summary-sig-default">None</span>)</span><br />
      Parse Map Configuration file.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ndg.security.server.AttAuthority-pysrc.html#AttAuthority.readMapConfig">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">bool</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ndg.security.server.AttAuthority.AttAuthority-class.html#userIsRegistered" class="summary-sig-name">userIsRegistered</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">userId</span>)</span><br />
      Check a particular user is registered with the Data Centre that the 
      Attribute Authority represents</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ndg.security.server.AttAuthority-pysrc.html#AttAuthority.userIsRegistered">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ndg.security.server.AttAuthority.AttAuthority-class.html#getRoles" class="summary-sig-name">getRoles</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">userId</span>)</span><br />
      Get the roles available to the registered user identified userId.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ndg.security.server.AttAuthority-pysrc.html#AttAuthority.getRoles">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">dict</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ndg.security.server.AttAuthority.AttAuthority-class.html#__getHostInfo" class="summary-sig-name" onclick="show_private();">__getHostInfo</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Return the host that this Attribute Authority represents: its ID, the
      user login URI and WSDL address.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ndg.security.server.AttAuthority-pysrc.html#AttAuthority.__getHostInfo">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">dict</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ndg.security.server.AttAuthority.AttAuthority-class.html#getTrustedHostInfo" class="summary-sig-name">getTrustedHostInfo</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">role</span>=<span class="summary-sig-default">None</span>)</span><br />
      Return a dictionary of the hosts that have trust relationships with 
      this AA.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ndg.security.server.AttAuthority-pysrc.html#AttAuthority.getTrustedHostInfo">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ndg.security.server.AttAuthority.AttAuthority-class.html#mapRemoteRoles2LocalRoles" class="summary-sig-name">mapRemoteRoles2LocalRoles</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">trustedHost</span>,
        <span class="summary-sig-arg">trustedHostRoles</span>)</span><br />
      Map roles of trusted hosts to roles for this data centre</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ndg.security.server.AttAuthority-pysrc.html#AttAuthority.mapRemoteRoles2LocalRoles">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code>dict</code></b>:
      <code>__cmp__</code>,
      <code>__eq__</code>,
      <code>__ge__</code>,
      <code>__getattribute__</code>,
      <code>__gt__</code>,
      <code>__hash__</code>,
      <code>__iter__</code>,
      <code>__le__</code>,
      <code>__len__</code>,
      <code>__lt__</code>,
      <code>__ne__</code>,
      <code>__new__</code>,
      <code>__setitem__</code>,
      <code>copy</code>,
      <code>fromkeys</code>,
      <code>iteritems</code>,
      <code>iterkeys</code>,
      <code>itervalues</code>,
      <code>pop</code>,
      <code>popitem</code>,
      <code>setdefault</code>,
      <code>update</code>
      </p>
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__delattr__</code>,
      <code>__reduce__</code>,
      <code>__reduce_ex__</code>,
      <code>__setattr__</code>,
      <code>__str__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== CLASS VARIABLES ==================== -->
<a name="section-ClassVariables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Class Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-ClassVariables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">string</span>
    </td><td class="summary">
        <a name="__confDir"></a><span class="summary-name">__confDir</span> = <code title="&quot;conf&quot;">&quot;conf&quot;</code><br />
      configuration directory under $NDGSEC_DIR - default location for 
      properties file
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">string</span>
    </td><td class="summary">
        <a name="__propFileName"></a><span class="summary-name">__propFileName</span> = <code title="&quot;attAuthorityProperties.xml&quot;">&quot;attAuthorityProperties.xml&quot;</code><br />
      default file name for properties file under __confDir
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">dict</span>
    </td><td class="summary">
        <a href="ndg.security.server.AttAuthority.AttAuthority-class.html#__validKeys" class="summary-name" onclick="show_private();">__validKeys</a> = <code title="{'name': '', 'portNum':-1, 'useSSL': False, 'sslCertFile': '', 'sslKey\
File': '', 'sslKeyPwd': '', 'sslCACertDir': '', 'attCertLifetime':-1, \
'attCertNotBeforeOff': 0, 'attCertFileName': '', 'attCertFileLogCnt': \
0, 'mapConfigFile': '', 'attCertDir': '', 'dnSeparator': '', 'userRole\
sModFilePath': '', 'userRolesModName': '', 'userRolesClassName': '', '\
userRolesPropFile': ''}">{'name': '', 'portNum':-1, 'useSSL': False, 'ssl<code class="variable-ellipsis">...</code></code><br />
      valid configuration property keywords - properties file must contain 
      these
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="WS_SETTINGS_KEY"></a><span class="summary-name">WS_SETTINGS_KEY</span> = <code title="'WS-Security'">'WS-Security'</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ndg.security.server.AttAuthority.AttAuthority-class.html#propFilePath" class="summary-name">propFilePath</a> = <code title="property(fset= setPropFilePath, fget= getPropFilePath, doc= &quot;Set the p\
ath to the properties file&quot;)">property(fset= setPropFilePath, fget= getPropFi<code class="variable-ellipsis">...</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ndg.security.server.AttAuthority.AttAuthority-class.html#hostInfo" class="summary-name">hostInfo</a> = <code title="property(fget= __getHostInfo, doc= &quot;Return information about this host\
&quot;)">property(fget= __getHostInfo, doc= &quot;Return informat<code class="variable-ellipsis">...</code></code>
    </td>
  </tr>
</table>
<!-- ==================== PROPERTIES ==================== -->
<a name="section-Properties"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Properties</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Properties"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__class__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== METHOD DETAILS ==================== -->
<a name="section-MethodDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Method Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-MethodDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="__init__"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">__init__</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">propFilePath</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">bReadMapConfig</span>=<span class="sig-default">True</span>)</span>
    <br /><em class="fname">(Constructor)</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ndg.security.server.AttAuthority-pysrc.html#AttAuthority.__init__">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">
Create new NDG Attribute Authority instance

@type propFilePath: string
@param propFilePath: path to file containing Attribute Authority
configuration parameters.  It defaults to $NDGSEC_AA_PROPFILEPATH or
if not set, $NDGSEC_DIR/conf/attAuthorityProperties.xml
- if the filename ends with 'xml', it is assumed to be in the xml format
- otherwise it is assumed to be a flat text 'ini' type file
@type bReadMapConfig: boolean
@param bReadMapConfig: by default the Map Configuration file is 
read.  Set this flag to False to override.

</pre>
  <dl class="fields">
    <dt>Returns: <pre class="literalblock">
new empty dictionary

</pre></dt>
    <dt>Overrides:
        object.__init__
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="__repr__"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">__repr__</span>(<span class="sig-arg">self</span>)</span>
    <br /><em class="fname">(Representation operator)</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ndg.security.server.AttAuthority-pysrc.html#AttAuthority.__repr__">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Return file properties dictionary as representation</p>
  <dl class="fields">
    <dt>Overrides:
        object.__repr__
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="__delitem__"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">__delitem__</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">key</span>)</span>
    <br /><em class="fname">(Index deletion operator)</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ndg.security.server.AttAuthority-pysrc.html#AttAuthority.__delitem__">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>del x[y]</p>
  <dl class="fields">
    <dt>Overrides:
        dict.__delitem__
        <dd><em class="note">(inherited documentation)</em></dd>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="__getitem__"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">__getitem__</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">key</span>)</span>
    <br /><em class="fname">(Indexing operator)</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ndg.security.server.AttAuthority-pysrc.html#AttAuthority.__getitem__">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>x[y]</p>
  <dl class="fields">
    <dt>Overrides:
        dict.__getitem__
        <dd><em class="note">(inherited documentation)</em></dd>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="get"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">get</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">kw</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ndg.security.server.AttAuthority-pysrc.html#AttAuthority.get">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>d defaults to None.</p>
  <dl class="fields">
    <dt>Returns: D[k] if k in D, else d</dt>
    <dt>Overrides:
        dict.get
        <dd><em class="note">(inherited documentation)</em></dd>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="clear"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">clear</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ndg.security.server.AttAuthority-pysrc.html#AttAuthority.clear">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Remove all items from D.</p>
  <dl class="fields">
    <dt>Returns: None</dt>
    <dt>Overrides:
        dict.clear
        <dd><em class="note">(inherited documentation)</em></dd>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="keys"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">keys</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ndg.security.server.AttAuthority-pysrc.html#AttAuthority.keys">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  
  <dl class="fields">
    <dt>Returns: list of D's keys</dt>
    <dt>Overrides:
        dict.keys
        <dd><em class="note">(inherited documentation)</em></dd>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="items"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">items</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ndg.security.server.AttAuthority-pysrc.html#AttAuthority.items">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  
  <dl class="fields">
    <dt>Returns: list of D's (key, value) pairs, as 2-tuples</dt>
    <dt>Overrides:
        dict.items
        <dd><em class="note">(inherited documentation)</em></dd>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="values"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">values</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ndg.security.server.AttAuthority-pysrc.html#AttAuthority.values">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  
  <dl class="fields">
    <dt>Returns: list of D's values</dt>
    <dt>Overrides:
        dict.values
        <dd><em class="note">(inherited documentation)</em></dd>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="has_key"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">has_key</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">key</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ndg.security.server.AttAuthority-pysrc.html#AttAuthority.has_key">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  
  <dl class="fields">
    <dt>Returns: True if D has a key k, else False</dt>
    <dt>Overrides:
        dict.has_key
        <dd><em class="note">(inherited documentation)</em></dd>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="__contains__"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">__contains__</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">key</span>)</span>
    <br /><em class="fname">(In operator)</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ndg.security.server.AttAuthority-pysrc.html#AttAuthority.__contains__">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  
  <dl class="fields">
    <dt>Returns: True if D has a key k, else False</dt>
    <dt>Overrides:
        dict.__contains__
        <dd><em class="note">(inherited documentation)</em></dd>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="getAttCert"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">getAttCert</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">userId</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">holderCert</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">holderCertFilePath</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">userAttCert</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">userAttCertFilePath</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ndg.security.server.AttAuthority-pysrc.html#AttAuthority.getAttCert">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">
Request a new Attribute Certificate for use in authorisation

getAttCert([userId=uid][holderCert=px|holderCertFilePath=pxFile, ]
           [userAttCert=cert|userAttCertFilePath=certFile])
 
@type userId: string
@param userId: identifier for the user who is entitled to the roles
in the certificate that is issued.  If this keyword is omitted, then
the userId will be set to the DN of the holder.

holder = the holder of the certificate - an inidividual user or an
organisation to which the user belongs who vouches for that user's ID

userId = the identifier for the user who is entitled to the roles
specified in the Attribute Certificate that is issued.
          
@type holderCert: string / ndg.security.common.X509.X509Cert type
@param holderCert: base64 encoded string containing proxy cert./
X.509 cert object corresponding to the ID who will be the HOLDER of
the Attribute Certificate that will be issued.  - Normally, using
proxy certificates, the holder and user ID are the same but there
may be cases where the holder will be an organisation ID.  This is the
case for NDG security with the DEWS project

@param holderCertFilePath: string
@param holderCertFilePath: file path to proxy/X.509 certificate of 
candidate holder

@type userAttCert: string or AttCert type
@param userAttCert: externally provided attribute certificate from 
another data centre.  This is only necessary if the user is not 
registered with this attribute authority. 
               
@type userAttCertFilePath: string 
@param userAttCertFilePath: alternative to userAttCert except pass 
in as a file path to an attribute certificate instead.

@rtype: AttCert
@return: new attribute certificate

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="readMapConfig"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">readMapConfig</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">mapConfigFilePath</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ndg.security.server.AttAuthority-pysrc.html#AttAuthority.readMapConfig">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Parse Map Configuration file.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>mapConfigFilePath</code></strong> (string) - file path for map configuration file.  If omitted, it uses member
          variable __prop['mapConfigFile'].</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="userIsRegistered"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">userIsRegistered</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">userId</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ndg.security.server.AttAuthority-pysrc.html#AttAuthority.userIsRegistered">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Check a particular user is registered with the Data Centre that the 
  Attribute Authority represents</p>
  <p>Nb. this method is not used internally by AttAuthority class and is 
  not a required part of the AAUserRoles API</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>userId</code></strong> (string) - user identity - could be a X500 Distinguished Name</li>
    </ul></dd>
    <dt>Returns: bool</dt>
        <dd>True if user is registered, False otherwise</dd>
  </dl>
</td></tr></table>
</div>
<a name="getRoles"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">getRoles</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">userId</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ndg.security.server.AttAuthority-pysrc.html#AttAuthority.getRoles">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Get the roles available to the registered user identified userId.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>dn</code></strong> (string) - user identifier - could be a X500 Distinguished Name</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>list of roles for the given user ID</dd>
  </dl>
</td></tr></table>
</div>
<a name="__getHostInfo"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">__getHostInfo</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ndg.security.server.AttAuthority-pysrc.html#AttAuthority.__getHostInfo">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Return the host that this Attribute Authority represents: its ID, the 
  user login URI and WSDL address.  Call this method via the 'hostInfo' 
  property</p>
  <dl class="fields">
    <dt>Returns: dict</dt>
        <dd>dictionary of host information derived from the map configuration</dd>
  </dl>
</td></tr></table>
</div>
<a name="getTrustedHostInfo"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">getTrustedHostInfo</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">role</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ndg.security.server.AttAuthority-pysrc.html#AttAuthority.getTrustedHostInfo">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Return a dictionary of the hosts that have trust relationships with 
  this AA.  The dictionary is indexed by the trusted host name and contains
  AA service, login URIs and the roles that map to the given input local 
  role.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>role</code></strong> (string) - if set, return trusted hosts that having a mapping set for this 
          role.  If no role is input, return all the AA's trusted hosts 
          with all their possible roles</li>
    </ul></dd>
    <dt>Returns: dict</dt>
        <dd>dictionary of the hosts that have trust relationships with this 
          AA.  It returns an empty dictionary if role isn't recognised</dd>
  </dl>
</td></tr></table>
</div>
<a name="mapRemoteRoles2LocalRoles"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">mapRemoteRoles2LocalRoles</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">trustedHost</span>,
        <span class="sig-arg">trustedHostRoles</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ndg.security.server.AttAuthority-pysrc.html#AttAuthority.mapRemoteRoles2LocalRoles">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Map roles of trusted hosts to roles for this data centre</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>trustedHost</code></strong> (string) - name of external trusted data centre</li>
        <li><strong class="pname"><code>trustedHostRoles</code></strong> (list) - list of external roles to map</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>list of mapped roles</dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== CLASS VARIABLE DETAILS ==================== -->
<a name="section-ClassVariableDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Class Variable Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-ClassVariableDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="__validKeys"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <h3 class="epydoc">__validKeys</h3>
  valid configuration property keywords - properties file must contain 
  these
  <dl class="fields">
    <dt>Type:</dt>
      <dd>dict</dd>
  </dl>
  <dl class="fields">
    <dt>Value:</dt>
      <dd><table><tr><td><pre class="variable">
{'name': '', 'portNum':-1, 'useSSL': False, 'sslCertFile': '', 'sslKey<span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
File': '', 'sslKeyPwd': '', 'sslCACertDir': '', 'attCertLifetime':-1, <span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
'attCertNotBeforeOff': 0, 'attCertFileName': '', 'attCertFileLogCnt': <span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
0, 'mapConfigFile': '', 'attCertDir': '', 'dnSeparator': '', 'userRole<span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
sModFilePath': '', 'userRolesModName': '', 'userRolesClassName': '', '<span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
userRolesPropFile': ''}
</pre></td></tr></table>
</dd>
  </dl>
</td></tr></table>
</div>
<a name="propFilePath"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <h3 class="epydoc">propFilePath</h3>
  
  <dl class="fields">
  </dl>
  <dl class="fields">
    <dt>Value:</dt>
      <dd><table><tr><td><pre class="variable">
property(fset= setPropFilePath, fget= getPropFilePath, doc= &quot;Set the p<span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
ath to the properties file&quot;)
</pre></td></tr></table>
</dd>
  </dl>
</td></tr></table>
</div>
<a name="hostInfo"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <h3 class="epydoc">hostInfo</h3>
  
  <dl class="fields">
  </dl>
  <dl class="fields">
    <dt>Value:</dt>
      <dd><table><tr><td><pre class="variable">
property(fget= __getHostInfo, doc= &quot;Return information about this host<span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
&quot;)
</pre></td></tr></table>
</dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="ndg-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            >NDG Security</th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    <a href="epydoc-log.html">Generated by Epydoc
    3.0.1 on Thu Sep  4 09:37:49 2008</a>
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
